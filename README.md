# Отчет к лабораторной номер 9 и ДЗ номер 3 #

Целью работы была разработка программы, преобразующей алгебраическое выражение, введенное пользователем, в постфиксную запись согласно Обратной Польской Нотации. Также необходимо было реализовать функцию вычисления выражения с возможностью учета переменной

## 1. Реализация ##
1.1 Структура программы

Программа реализована на C++ и состоит из следующих компонентов:

    Класс Calculator:

        Валидация входных выражений

        Преобразование инфикс → постфикс

        Вычисление постфиксных выражений

        Обработка ошибок

    Алгоритм преобразования:

        Обработка унарного минуса

        Учет приоритетов операторов

        Распознавание функций и переменных

        Обработка скобок

    Стековое вычисление:

        Поддержка арифметических операций

        Реализация математических функций

        Обработка переменной x

## 2. Основные функции ##
2.1 Валидация выражения

```
bool validateExpression(const string& expr, string& errorMsg)
```
Проверяет:

    Парность скобок

    Корректность использования функций

    Отсутствие недопустимых символов

    Отсутствие нескольких операторов подряд

2.2 Преобразование в ОПН

```
vector<string> toPostfix(const string& expression)
```

Реализует алгоритм shunting-yard:

    Разбор токенов (числа, переменные, операторы, функции)

    Управление приоритетами операций

    Формирование постфиксной последовательности

2.3 Вычисление ОПН

```
double evaluatePostfix(const vector<string>& postfix, double x)
```

Стековое вычисление:

    Обработка операндов (числа, переменная x)

    Применение операторов

    Вызов математических функций

## 3. Особенности реализации ##
3.1 Обработка унарного минуса

Преобразование -x → 0-x и (-5) → (0-5) для корректной работы алгоритма.
3.2 Поддержка функций

Распознавание и обработка функций:

    Тригонометрические: sin, cos, tan, ctg

    Экспоненциальные: exp

    Квадратный корень: sqrt

3.3 Работа с переменными

    Переменная x обрабатывается как отдельный токен

    Значение x запрашивается у пользователя при наличии в выражении

    Поддержка выражений типа cos(x-5)*10/(2*x-5)

## 4. Обработка ошибок ##

Программа обнаруживает и сообщает о:

    Непарных скобках

    Недопустимых символах

    Неправильном использовании функций

    Делении на ноль

    Извлечении корня из отрицательного числа

## 5. Результаты ##
   
5.1 Выполненные требования

    ✅ Поддержка операций +, -, *, /, ^

    ✅ Работа с целыми и вещественными числами

    ✅ Поддержка скобок ()

    ✅ Проверка корректности выражений

    ✅ Поддержка функций sin, cos, tg, ctg, exp

    ✅ Работа с переменной x

    ✅ Вывод постфиксной записи (дополнительно)
